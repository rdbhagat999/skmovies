import{S as P,i as I,s as N,e as m,t as O,k as B,c as $,a as g,h as C,d as p,m as D,b,g as f,F as S,n as V,o as h,p as q,q as d,G as M,w as A,x as R,y as T,B as j,l as y,R as z,N as H,T as U,U as F,V as G,W as w}from"../chunks/vendor-a81b054c.js";import{M as K,a as W}from"../chunks/config-28d25f79.js";import{M as Y}from"../chunks/MovieCard-310f2661.js";function E(i,o,r){const e=i.slice();return e[1]=o[r],e}function J(i){let o,r;return{c(){o=m("p"),r=O("No movies found")},l(e){o=$(e,"P",{});var t=g(o);r=C(t,"No movies found"),t.forEach(p)},m(e,t){f(e,o,t),S(o,r)},p:M,i:M,o:M,d(e){e&&p(o)}}}function L(i){let o,r,e=i[0],t=[];for(let a=0;a<e.length;a+=1)t[a]=x(E(i,e,a));const n=a=>h(t[a],1,1,()=>{t[a]=null});return{c(){for(let a=0;a<t.length;a+=1)t[a].c();o=y()},l(a){for(let s=0;s<t.length;s+=1)t[s].l(a);o=y()},m(a,s){for(let l=0;l<t.length;l+=1)t[l].m(a,s);f(a,o,s),r=!0},p(a,s){if(s&1){e=a[0];let l;for(l=0;l<e.length;l+=1){const u=E(a,e,l);t[l]?(t[l].p(u,s),d(t[l],1)):(t[l]=x(u),t[l].c(),d(t[l],1),t[l].m(o.parentNode,o))}for(V(),l=e.length;l<t.length;l+=1)n(l);q()}},i(a){if(!r){for(let s=0;s<e.length;s+=1)d(t[s]);r=!0}},o(a){t=t.filter(Boolean);for(let s=0;s<t.length;s+=1)h(t[s]);r=!1},d(a){z(t,a),a&&p(o)}}}function x(i){let o,r;return o=new Y({props:{movie:i[1]}}),{c(){A(o.$$.fragment)},l(e){R(o.$$.fragment,e)},m(e,t){T(o,e,t),r=!0},p(e,t){const n={};t&1&&(n.movie=e[1]),o.$set(n)},i(e){r||(d(o.$$.fragment,e),r=!0)},o(e){h(o.$$.fragment,e),r=!1},d(e){j(o,e)}}}function Q(i){let o,r,e,t,n,a,s;const l=[L,J],u=[];function k(c,_){return c[0].length>0?0:1}return n=k(i),a=u[n]=l[n](i),{c(){o=m("h3"),r=O("Popular Movies"),e=B(),t=m("div"),a.c(),this.h()},l(c){o=$(c,"H3",{class:!0});var _=g(o);r=C(_,"Popular Movies"),_.forEach(p),e=D(c),t=$(c,"DIV",{class:!0});var v=g(t);a.l(v),v.forEach(p),this.h()},h(){b(o,"class","svelte-19a9z43"),b(t,"class","popular-movies svelte-19a9z43")},m(c,_){f(c,o,_),S(o,r),f(c,e,_),f(c,t,_),u[n].m(t,null),s=!0},p(c,[_]){let v=n;n=k(c),n===v?u[n].p(c,_):(V(),h(u[v],1,1,()=>{u[v]=null}),q(),a=u[n],a?a.p(c,_):(a=u[n]=l[n](c),a.c()),d(a,1),a.m(t,null))},i(c){s||(d(a),s=!0)},o(c){h(a),s=!1},d(c){c&&p(o),c&&p(e),c&&p(t),u[n].d()}}}function X(i,o,r){let{popularMovies:e=[]}=o;return i.$$set=t=>{"popularMovies"in t&&r(0,e=t.popularMovies)},[e]}class Z extends P{constructor(o){super();I(this,o,X,Q,N,{popularMovies:0})}}function ee(i){let o,r,e,t,n,a;return e=new Z({props:{popularMovies:i[0]}}),{c(){o=B(),r=m("section"),A(e.$$.fragment),this.h()},l(s){H('[data-svelte="svelte-1xepw9x"]',document.head).forEach(p),o=D(s),r=$(s,"SECTION",{});var u=g(r);R(e.$$.fragment,u),u.forEach(p),this.h()},h(){document.title="Moviedb | Home"},m(s,l){f(s,o,l),f(s,r,l),T(e,r,null),a=!0},p(s,[l]){const u={};l&1&&(u.popularMovies=s[0]),e.$set(u)},i(s){a||(d(e.$$.fragment,s),U(()=>{n&&n.end(1),t=G(r,w,{y:50,duration:300,delay:300}),t.start()}),a=!0)},o(s){h(e.$$.fragment,s),t&&t.invalidate(),n=F(r,w,{y:50,duration:300}),a=!1},d(s){s&&p(o),s&&p(r),j(e),s&&n&&n.end()}}}async function re({fetch:i}){const o=await i(`${K}/3/movie/popular?api_key=${W}&language=en-US&page=1`);if(o.ok){const r=await o.json();return{status:o.status,props:{popularMovies:r.results.map(e=>({id:e.id,title:e.title,poster:e.poster_path?`/w500${e.poster_path}`:null,backdropPath:r.backdrop_path?`/${r.backdrop_path}`:null,overview:e.overview,releaseDate:e.release_date,voteAverage:e.vote_average,voteCount:e.vote_count,status:e.status}))}}}else return{status:o.status,props:{popularMovies:[]}}}function te(i,o,r){let{popularMovies:e=[]}=o;return i.$$set=t=>{"popularMovies"in t&&r(0,e=t.popularMovies)},[e]}class le extends P{constructor(o){super();I(this,o,te,ee,N,{popularMovies:0})}}export{le as default,re as load};
