import{S as x,i as ee,s as te,l as U,g as P,G as D,d as c,e as m,t as M,c as h,a as b,h as V,b as p,F as u,k as O,m as S,X as J,j as T,N as ae,o as H,p as le,q as K,n as re,w as se,x as oe,y as ie,T as ne,V as ce,W as Q,U as _e,B as ue}from"../../chunks/vendor-a81b054c.js";import{M as ve,a as de}from"../../chunks/config-28d25f79.js";import Z from"../__error.svelte-e6089901.js";function fe(o){let e,l;return{c(){e=m("p"),l=M("Loading..."),this.h()},l(a){e=h(a,"P",{class:!0});var t=b(e);l=V(t,"Loading..."),t.forEach(c),this.h()},h(){p(e,"class","svelte-5wz9v")},m(a,t){P(a,e,t),u(e,l)},p:D,d(a){a&&c(e)}}}function pe(o){var W,X,Y;let e,l,a,t,r,s,n,_,g=((W=o[0])==null?void 0:W.title)+"",$,i,v,w=((X=o[0])==null?void 0:X.overview)+"",z,C,E,q,G,F,A=((Y=o[0])==null?void 0:Y.releaseDate)+"",j,R;return{c(){e=m("div"),l=m("div"),a=m("img"),s=O(),n=m("div"),_=m("h1"),$=M(g),i=O(),v=m("p"),z=M(w),C=O(),E=m("p"),q=m("span"),G=M("Release date:"),F=O(),j=M(A),this.h()},l(f){e=h(f,"DIV",{id:!0,class:!0});var d=b(e);l=h(d,"DIV",{class:!0});var y=b(l);a=h(y,"IMG",{src:!0,alt:!0,class:!0}),y.forEach(c),s=S(d),n=h(d,"DIV",{class:!0});var k=b(n);_=h(k,"H1",{class:!0});var B=b(_);$=V(B,g),B.forEach(c),i=S(k),v=h(k,"P",{class:!0});var L=b(v);z=V(L,w),L.forEach(c),C=S(k),E=h(k,"P",{class:!0});var I=b(E);q=h(I,"SPAN",{class:!0});var N=b(q);G=V(N,"Release date:"),N.forEach(c),F=S(I),j=V(I,A),I.forEach(c),k.forEach(c),d.forEach(c),this.h()},h(){var f,d,y;J(a.src,t="https://www.themoviedb.org/t/p/original"+((f=o[0])==null?void 0:f.backdropPath))||p(a,"src",t),p(a,"alt",r=(d=o[0])==null?void 0:d.title),p(a,"class","svelte-5wz9v"),p(l,"class","img-container svelte-5wz9v"),p(_,"class","svelte-5wz9v"),p(v,"class","overview svelte-5wz9v"),p(q,"class","svelte-5wz9v"),p(E,"class","svelte-5wz9v"),p(n,"class","txt-container svelte-5wz9v"),p(e,"id",R=(y=o[0])==null?void 0:y.id),p(e,"class","movie-details svelte-5wz9v")},m(f,d){P(f,e,d),u(e,l),u(l,a),u(e,s),u(e,n),u(n,_),u(_,$),u(n,i),u(n,v),u(v,z),u(n,C),u(n,E),u(E,q),u(q,G),u(E,F),u(E,j)},p(f,d){var y,k,B,L,I,N;d&1&&!J(a.src,t="https://www.themoviedb.org/t/p/original"+((y=f[0])==null?void 0:y.backdropPath))&&p(a,"src",t),d&1&&r!==(r=(k=f[0])==null?void 0:k.title)&&p(a,"alt",r),d&1&&g!==(g=((B=f[0])==null?void 0:B.title)+"")&&T($,g),d&1&&w!==(w=((L=f[0])==null?void 0:L.overview)+"")&&T(z,w),d&1&&A!==(A=((I=f[0])==null?void 0:I.releaseDate)+"")&&T(j,A),d&1&&R!==(R=(N=f[0])==null?void 0:N.id)&&p(e,"id",R)},d(f){f&&c(e)}}}function me(o){let e;function l(r,s){return r[0]?pe:fe}let a=l(o),t=a(o);return{c(){t.c(),e=U()},l(r){t.l(r),e=U()},m(r,s){t.m(r,s),P(r,e,s)},p(r,[s]){a===(a=l(r))&&t?t.p(r,s):(t.d(1),t=a(r),t&&(t.c(),t.m(e.parentNode,e)))},i:D,o:D,d(r){t.d(r),r&&c(e)}}}function he(o,e,l){let{movie:a=null}=e;return o.$$set=t=>{"movie"in t&&l(0,a=t.movie)},[a]}class be extends x{constructor(e){super();ee(this,e,he,me,te,{movie:0})}}function we(o){let e,l;return{c(){e=m("p"),l=M("Loading...")},l(a){e=h(a,"P",{});var t=b(e);l=V(t,"Loading..."),t.forEach(c)},m(a,t){P(a,e,t),u(e,l)},p:D,i:D,o:D,d(a){a&&c(e)}}}function ke(o){var t;let e,l=((t=o[1])==null?void 0:t.message)+"",a;return{c(){e=m("p"),a=M(l)},l(r){e=h(r,"P",{});var s=b(e);a=V(s,l),s.forEach(c)},m(r,s){P(r,e,s),u(e,a)},p(r,s){var n;s&2&&l!==(l=((n=r[1])==null?void 0:n.message)+"")&&T(a,l)},i:D,o:D,d(r){r&&c(e)}}}function ge(o){let e,l,a,t,r;return l=new be({props:{movie:o[0]}}),{c(){e=m("div"),se(l.$$.fragment)},l(s){e=h(s,"DIV",{});var n=b(e);oe(l.$$.fragment,n),n.forEach(c)},m(s,n){P(s,e,n),ie(l,e,null),r=!0},p(s,n){const _={};n&1&&(_.movie=s[0]),l.$set(_)},i(s){r||(K(l.$$.fragment,s),ne(()=>{t&&t.end(1),a=ce(e,Q,{y:50,duration:300,delay:300}),a.start()}),r=!0)},o(s){H(l.$$.fragment,s),a&&a.invalidate(),t=_e(e,Q,{y:50,duration:300}),r=!1},d(s){s&&c(e),ue(l),s&&t&&t.end()}}}function Ee(o){var $;let e,l,a,t,r,s;document.title=e="Moviedb | "+(($=o[0])==null?void 0:$.title);const n=[ge,ke,we],_=[];function g(i,v){return i[0]?0:i[1]?1:2}return a=g(o),t=_[a]=n[a](o),{c(){l=O(),t.c(),r=U()},l(i){ae('[data-svelte="svelte-a7ur69"]',document.head).forEach(c),l=S(i),t.l(i),r=U()},m(i,v){P(i,l,v),_[a].m(i,v),P(i,r,v),s=!0},p(i,[v]){var z;(!s||v&1)&&e!==(e="Moviedb | "+((z=i[0])==null?void 0:z.title))&&(document.title=e);let w=a;a=g(i),a===w?_[a].p(i,v):(re(),H(_[w],1,1,()=>{_[w]=null}),le(),t=_[a],t?t.p(i,v):(t=_[a]=n[a](i),t.c()),K(t,1),t.m(r.parentNode,r))},i(i){s||(K(t),s=!0)},o(i){H(t),s=!1},d(i){i&&c(l),_[a].d(i),i&&c(r)}}}async function ze({fetch:o,params:e}){const l=e==null?void 0:e.id,a=await o(`${ve}/3/movie/${l}?api_key=${de}&language=en-US`),t=await a.json();return a.ok?{props:{movie:{id:t.id,title:t.title,poster:t.poster_path?`/w500${t.poster_path}`:null,backdropPath:t.backdrop_path?`/${t.backdrop_path}`:null,overview:t.overview,releaseDate:t.release_date,voteAverage:t.vote_average,voteCount:t.vote_count,status:t.status}}}:t.status_code===34?{status:404,error:new Z("The movie you requested could not be found.")}:{status:500,error:new Z("An internal server error has occurred.")}}function ye(o,e,l){let{movie:a=null}=e,{error:t=null}=e;return o.$$set=r=>{"movie"in r&&l(0,a=r.movie),"error"in r&&l(1,t=r.error)},[a,t]}class Ie extends x{constructor(e){super();ee(this,e,ye,Ee,te,{movie:0,error:1})}}export{Ie as default,ze as load};
